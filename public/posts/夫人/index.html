<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>夫人 | My Zen Garden</title>
<meta name="keywords" content="Psychology, 高功能精神病人, 肖申克的救赎, I Care a Lot, 沉默的羔羊, 本能">
<meta name="description" content="天才在左，疯子在右，精神病院版肖申克的救赎">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/%E5%A4%AB%E4%BA%BA/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/%E5%A4%AB%E4%BA%BA/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My Zen Garden (Alt + H)">My Zen Garden</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      夫人
    </h1>
    <div class="post-meta"><span title='2026-02-10 09:57:13 +0800 CST'>February 10, 2026</span>

</div>
  </header> 
  <div class="post-content"><h2 id="故事设定prompt">故事设定Prompt<a hidden class="anchor" aria-hidden="true" href="#故事设定prompt">#</a></h2>
<p>根据如下内容提示，输出故事情节框架，人物设定，章节&amp;标题自拟，参考标题《夫人》。一个普通中年女教师，白天日常在语言班教语言（从小就表现出学习语言的天赋：自学国文&amp;外语；母亲的礼物&amp;中产家庭：故事书，DVD英语动画光碟），周末在精神病院做社工（疑似高功能自闭症，物质教育条件充足，父母对其情感关怀，但存在心理隔离：一个冷漠的小孩，父母觉得这个小孩非常遥远，好像是来自星星的孩子，她喜欢一个人玩耍和活动，搭积木，画画，看动画片，做手工），晚上把精神病人的narrative内容转化成戏剧剧本/小说/图画和绘本（《天才在左，疯子在右》）。机缘巧合之下策办了一次精神病院的公益展，为改善精神病院公共设施募捐，联合了政府卫生部门，医院高校和媒体。经过成功经验的复制和推广，她把业务拓展到了养老院/特殊儿童康复中心。期间结识了一位有背景资源的政客，把她运作输送到一家精神病院做行政管理院长，期间也继续提升自身的心理学专业临床学历背景（女院长的独特技能：高智商高伪装的边缘型精神病患者 也就是知道自己是精神病的精神病，可以做精神医生，类似《沉默的羔羊》汉尼拔，莱柯特博士，分得清现实和梦境，可以自由穿梭和渗透在两者之间，类似《红辣椒》盗梦侦探，给病人提供精神hack达到疗愈或者精神控制的目的）。她的初衷是做慈善，结果意外通过媒体链接到公共资源，进入主流权利代理人结构位（精神病院院长）。在职期间，压榨精神病患者跟996职场牛马一样，每天通过精神刺激其定时发疯，提供源源不断的故事素材和艺术灵感，也就是利用病人headcount（《肖申克的救赎》相当于把病人当做免费的劳工人力资源-人头headcount），喂养和操控AI Agent生成内容消费品（引入AI科技手段，释放生产力，提高产出效率和质量），供特定人群消遣，设置大宝藏KPI，但是只分配给这群病患维持生命体征的收入分配，剩余价值除了贡献打点给主流权力上线，便都被自己据为己有，还要接管病人数字艺术资产署名为自己的NFT版权IP（《I care a lot》）；打通一条龙服务，一边牟取暴利，一边做政绩工程。最后，被做记者的女儿曝光了两面派的罪行（白夜行雪穗一样的分裂人生），押入监狱。表面看，她的剥削行为都是合理合法的；需要设计一个她的疏忽漏洞，使其违反法律，才有机会入狱。犯罪心理学家（男）来到监狱探视女人，发现她原生家庭幸福，毫无漏洞可以切入，反被其用精神分析洗脑反制（《本能》男人被诱惑 梦见女人 精神臣服）两人建立起常规对话后，产生亲密依恋关系（《沉默的羔羊》莱柯特医生和史达琳探员的灵魂伴侣关系，只是性别角色反转，女院长占据莱柯特医生的导师角色）女人开始透露自己的第一份工作，一份充满土星秩序和天王星变革的权术斗争式工作，女人在斗争中不断地扮演凯龙星式的牺牲者，长年的打压和心理不安全感，使其对权力和掌控产生了变态的执着……</p>
<h3 id="摘要">摘要<a hidden class="anchor" aria-hidden="true" href="#摘要">#</a></h3>
<p>《夫人》一个普通女老师兼职精神病院社工，从热衷公益策展人，步步为营，摇身一变，成为一家精神病院院长，压榨病人剩余价值，组织背后利益链条，牟取暴利，分配利益，最后被自己的记者女儿揭发入狱，对犯罪心理学家袒露其黑化蜕变史，顺便和心理学家进行了一场精神柏拉图……</p>
<h3 id="ai捉刀人---deepseek">AI捉刀人 - DeepSeek<a hidden class="anchor" aria-hidden="true" href="#ai捉刀人---deepseek">#</a></h3>
<ol>
<li><strong>需求任务</strong>：用户提供了一个相当复杂且层次丰富的故事设定，要求输出故事情节框架、人物设定和章节标题。这是一个需要高度整合和创造性构建的任务。用户的核心需求是将零散的灵感点整合成一个逻辑自洽、有吸引力的叙事结构，同时突出角色的复杂性和主题的深度。</li>
<li><strong>元素拆解</strong>：主角是一位有语言天赋和疑似高功能自闭症背景的中年女教师，她的职业轨迹从教师/社工，到公益策展人，再到精神病院院长，最后因剥削病人入狱，并在狱中与犯罪心理学家展开复杂的精神博弈。故事融合了公益、权力、剥削、科技、心理操控、母女冲突等多重主题。需要特别注意的深层需求可能是：用户希望这个故事不仅是一个情节剧，更能探讨人性异化、制度腐败、道德灰色地带等深刻议题，并具有类似《沉默的羔羊》那样的智性张力和角色魅力。</li>
<li><strong>心理动机和外部契机</strong>：用户提到了“凯龙星式的牺牲者”和“权术斗争”，这提示她的黑化不是突然的，而是源于早期职场中长期的压抑、背叛和对权力本质的觉醒。需要将这个“前传”巧妙地编织进监狱对话的框架中。</li>
<li><strong>人物关系</strong>：与女儿的对立（既是血缘又是道德审判者）以及与心理学家之间危险又迷人的心智较量（类似汉尼拔与史达琳），这两组关系能极大增强戏剧张力。</li>
<li><strong>结构组织</strong>：章节结构需要既推进现实时间线（狱中对话与案件调查），又通过回忆穿插过去，揭示主角的堕落过程，并在结尾处留下悬念和思考空间。</li>
<li><strong>设计亮点</strong>：在具体设计上，情节框架可以按“现状（入狱）- 回溯（崛起与堕落）- 对决（精神博弈与真相揭露）”的三幕式来搭建。人物设定要突出主角的多面性和矛盾性：她既是受害者也是加害者，既是天才也是病人，她的“恶”源于对秩序和安全感的极端追求。章节标题可以具有象征性和双关性，呼应“夫人”这个称谓的多重含义（从尊称到反讽）。整个故事的核心驱动可以是一个问题：一个初衷善良的人，是如何被体系异化，并最终成为体系中最畸形却又最高效的一部分的？</li>
</ol>
<h1 id="夫人故事框架人物设定与章节规划">《夫人》故事框架、人物设定与章节规划<a hidden class="anchor" aria-hidden="true" href="#夫人故事框架人物设定与章节规划">#</a></h1>
<h2 id="一核心情节框架">一、核心情节框架<a hidden class="anchor" aria-hidden="true" href="#一核心情节框架">#</a></h2>
<p><strong>第一阶段：天赋与使命（1-15章）</strong></p>
<ul>
<li>林静书（女主角）作为语言教师兼精神病院社工的双重生活</li>
<li>利用语言天赋与观察力，将病人的叙事转化为艺术作品</li>
<li>策划“看见灵魂”公益展览，联合多方力量改善精神病院设施</li>
<li>初步建立声誉与人脉网络</li>
</ul>
<p><strong>第二阶段：权力转型（16-30章）</strong></p>
<ul>
<li>在政客陈启明的运作下，进入精神病院管理层</li>
<li>在职攻读临床心理学博士学位，完善专业背景</li>
<li>逐步发现体制漏洞与病人价值的“另类利用方式”</li>
<li>从改良者转变为系统内的“高效管理者”</li>
</ul>
<p><strong>第三阶段：双面人生（31-45章）</strong></p>
<ul>
<li>建立“创作工坊”体系：通过精密精神刺激引导病人产出故事/艺术</li>
<li>引入AI Agent（命名为“墨菲斯系统”）批量生成内容</li>
<li>构建完整的利益链条：病人→内容→NFT数字资产→政绩/利润</li>
<li>表面维持慈善家形象，私下成为剥削体系的掌控者</li>
</ul>
<p><strong>第四阶段：崩塌与对峙（46-55章）</strong></p>
<ul>
<li>记者女儿林晓玥在调查养老院项目时发现异常</li>
<li>追踪发现母亲的两面人生：白天出席慈善颁奖，夜晚监控“创作车间”</li>
<li>关键漏洞：一份伪造的病人知情同意书（法律疏忽）</li>
<li>媒体曝光→逮捕入狱→舆论震动</li>
</ul>
<p><strong>第五阶段：监狱中的智性博弈（56-65章）</strong></p>
<ul>
<li>犯罪心理学家徐砚之受命评估林静书</li>
<li>监狱探视中的心理攻防战：评估者反被分析</li>
<li>林静书逐步透露早年职场经历（“土星秩序下的凯龙星创伤”）</li>
<li>两人建立特殊的导师-学生/博弈者关系</li>
<li>开放式结局：谁在真正操控这场对话？</li>
</ul>
<h2 id="二主要人物设定">二、主要人物设定<a hidden class="anchor" aria-hidden="true" href="#二主要人物设定">#</a></h2>
<p><strong>林静书（47岁）</strong></p>
<ul>
<li><strong>外在</strong>：优雅知性的中产女性形象，衣着简约考究，戴细框眼镜</li>
<li><strong>内在</strong>：高功能自闭症特质，情感感知隔离但智力超群，擅长模式识别与语言操控</li>
<li><strong>技能</strong>：多语言天赋、心理洞察与隐性操控、系统构建能力</li>
<li><strong>动机演变</strong>：最初追求秩序与意义→经历体制打压后渴望掌控→最终沉迷于“扮演上帝”的权力快感</li>
<li><strong>关键矛盾</strong>：她真心相信自己的体系比放任病人自生自灭更“人道”</li>
</ul>
<p><strong>林晓玥（24岁）</strong></p>
<ul>
<li>理想主义的调查记者，与母亲情感疏离但智力上惺惺相惜</li>
<li>继承母亲的语言天赋与观察力，但走向相反的道德道路</li>
<li><strong>关键行动</strong>：伪装成志愿者潜入母亲的项目，收集证据时经历道德挣扎</li>
</ul>
<p><strong>徐砚之（42岁）</strong></p>
<ul>
<li>资深犯罪心理学家，理性至上主义者</li>
<li>最初自信能破解林静书心理密码，逐渐被其智力魅力吸引</li>
<li>成为林静书在监狱中继续施展影响力的媒介</li>
</ul>
<p><strong>陈启明（55岁）</strong></p>
<ul>
<li>野心勃勃的政客，最早发现林静书的“实用价值”</li>
<li>利益联盟的搭建者，也是最终切割关系自保的人</li>
</ul>
<p><strong>次要人物群像</strong>：</p>
<ul>
<li>精神病院病人（各具天赋的“创作者”）</li>
<li>高校合作教授、媒体主编、卫生部门官员</li>
<li>AI技术团队负责人</li>
</ul>
<h2 id="三章节规划示例">三、章节规划（示例）<a hidden class="anchor" aria-hidden="true" href="#三章节规划示例">#</a></h2>
<h3 id="第一幕双面镜第1-15章">第一幕：双面镜（第1-15章）<a hidden class="anchor" aria-hidden="true" href="#第一幕双面镜第1-15章">#</a></h3>
<ol>
<li><strong>星期三的三种人生</strong>：教师、社工、夜间写作者</li>
<li><strong>来自星星的孩子</strong>：童年回忆与母亲的礼物</li>
<li><strong>第七病房的叙事者</strong>：遇见第一位“天才病人”</li>
<li><strong>翻译灵魂的人</strong>：第一本病人叙事绘本出版</li>
<li><strong>策展人的诞生</strong>：“看见灵魂”公益展构想</li>
<li><strong>权力的阶梯</strong>：结识陈启明</li>
<li><strong>第一次妥协</strong>：为获得资源修改展览主题</li>
<li><strong>聚光灯下的善人</strong>：媒体追捧与奖项</li>
<li><strong>系统漏洞初现</strong>：发现病人创作的市场价值</li>
<li><strong>复制成功</strong>：拓展至养老院</li>
<li><strong>博士论文选题</strong>：《秩序与狂想：精神创作的边界》</li>
<li><strong>院长的任命</strong>：精神病院行政任命书</li>
<li><strong>第一次“效率优化”</strong>：调整病人作息以增加产出</li>
<li><strong>墨菲斯系统提案</strong>：AI辅助创作的想法</li>
<li><strong>道德的最后一次闪烁</strong>：销毁第一份刺激方案草案</li>
</ol>
<h3 id="第二幕编织者第16-30章">第二幕：编织者（第16-30章）<a hidden class="anchor" aria-hidden="true" href="#第二幕编织者第16-30章">#</a></h3>
<p>16-30章示例标题：</p>
<ul>
<li><strong>红辣椒与盗梦侦探</strong>：第一次实施精准精神刺激</li>
<li><strong>996病房</strong>：创作工坊的建立</li>
<li><strong>数字资产的诞生</strong>：第一组病人画作NFT化</li>
<li><strong>女儿的怀疑</strong>：林晓玥的节日拜访</li>
<li><strong>权力上贡</strong>：第一次利润分配会议</li>
<li><strong>完美的不在场证明</strong>：慈善晚宴与监控室的同时存在</li>
<li><strong>母亲的直觉</strong>：林晓玥开始调查</li>
<li><strong>系统升级</strong>：引入生理指标监控优化刺激方案</li>
<li><strong>失控案例</strong>：第一个因过度刺激崩溃的病人</li>
<li><strong>文件处理</strong>：伪造转院记录与死亡证明</li>
<li><strong>裂隙</strong>：女儿与母亲的深夜对峙（表面平静）</li>
<li><strong>政绩工程</strong>：省级示范项目申报</li>
<li><strong>知情同意书</strong>：那个致命的疏忽</li>
<li><strong>记者的伪装</strong>：林晓玥潜入志愿者团队</li>
<li><strong>暴雨前夜</strong>：最后一次家庭聚餐</li>
</ul>
<h3 id="第三幕崩塌与深渊第31-55章">第三幕：崩塌与深渊（第31-55章）<a hidden class="anchor" aria-hidden="true" href="#第三幕崩塌与深渊第31-55章">#</a></h3>
<ol start="46">
<li><strong>头版头条</strong>：《慈善院长背后的创作工厂》</li>
<li><strong>逮捕</strong>：在颁奖典礼现场被带走</li>
<li><strong>舆论风暴</strong>：公众的震惊与分裂</li>
<li><strong>法庭对峙</strong>：法律漏洞的攻防</li>
<li><strong>定罪</strong>：伪造医疗文件罪成立</li>
<li><strong>监狱编号7742</strong>：入狱第一天</li>
<li><strong>评估者到来</strong>：徐砚之的第一次探视</li>
<li><strong>镜厅对话</strong>：第一次心理评估的反转</li>
<li><strong>母亲的来信</strong>：狱中收到女儿未署名的空白信</li>
<li><strong>梦的解析</strong>：徐砚之梦见林静书</li>
</ol>
<h3 id="第四幕深渊的回响第56-65章">第四幕：深渊的回响（第56-65章）<a hidden class="anchor" aria-hidden="true" href="#第四幕深渊的回响第56-65章">#</a></h3>
<ol start="56">
<li><strong>土星秩序</strong>：林静书讲述第一份工作的创伤</li>
<li><strong>天王星时刻</strong>：职场政变中被迫成为替罪羊</li>
<li><strong>凯龙星的伤口</strong>：长年压抑与不安全感</li>
<li><strong>权力的滋味</strong>：第一次成功反击的回忆</li>
<li><strong>学生与导师</strong>：徐砚之主动请求继续对话</li>
<li><strong>体系的真谛</strong>：林静书的权力哲学独白</li>
<li><strong>女儿的探视</strong>：最后一次母女对话</li>
<li><strong>越界</strong>：徐砚之提交非常规评估报告</li>
<li><strong>下一次策展</strong>：林静书在狱中构思新“项目”</li>
<li><strong>谁在笼中</strong>：徐砚之在办公室凝视案件卷宗的最后一幕</li>
</ol>
<h2 id="四核心主题与隐喻">四、核心主题与隐喻<a hidden class="anchor" aria-hidden="true" href="#四核心主题与隐喻">#</a></h2>
<ol>
<li><strong>秩序与疯狂</strong>：制度化对人性复杂性的简化与利用</li>
<li><strong>语言与权力</strong>：叙事掌控作为权力运作的核心</li>
<li><strong>母性异化</strong>：创造者（母亲/院长）对被创造者（女儿/病人）的掌控与剥削</li>
<li><strong>效率伦理</strong>：当人道主义被重新定义为“效率”与“产出”</li>
<li><strong>镜面人生</strong>：公共形象与私人真相的分裂</li>
</ol>
<h2 id="五关键场景设计">五、关键场景设计<a hidden class="anchor" aria-hidden="true" href="#五关键场景设计">#</a></h2>
<ol>
<li><strong>开篇场景</strong>：林静书同时在三个屏幕前——网课教学、病房监控、NFT交易数据</li>
<li><strong>转折场景</strong>：第一次成功用精确定时刺激引发病人创作高潮时的复杂表情</li>
<li><strong>暴露场景</strong>：女儿在监控室看到母亲平静地调整刺激参数，如同调整音响音量</li>
<li><strong>监狱对话场景</strong>：林静书通过描述徐砚之童年书房细节，瞬间逆转权力关系</li>
<li><strong>结尾意象</strong>：徐砚之办公室，林静书的案件档案旁，放着他私藏的、她早年出版的病人叙事绘本</li>
</ol>
<hr>
<p><strong>故事基调</strong>：智性冷感中渗透着人性的微光，如手术刀般剖析善如何异化为恶，以及异化过程中的每一个微小选择。这不是非黑即白的故事，而是一幅复杂的道德灰度图，邀请读者审视自身与体系共谋的可能性。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/psychology/">Psychology</a></li>
      <li><a href="http://localhost:1313/tags/%E9%AB%98%E5%8A%9F%E8%83%BD%E7%B2%BE%E7%A5%9E%E7%97%85%E4%BA%BA/">高功能精神病人</a></li>
      <li><a href="http://localhost:1313/tags/%E8%82%96%E7%94%B3%E5%85%8B%E7%9A%84%E6%95%91%E8%B5%8E/">肖申克的救赎</a></li>
      <li><a href="http://localhost:1313/tags/i-care-a-lot/">I Care a Lot</a></li>
      <li><a href="http://localhost:1313/tags/%E6%B2%89%E9%BB%98%E7%9A%84%E7%BE%94%E7%BE%8A/">沉默的羔羊</a></li>
      <li><a href="http://localhost:1313/tags/%E6%9C%AC%E8%83%BD/">本能</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">My Zen Garden</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
